---
title: "Poisson model"
output: github_document
---

```{r}
library(dplyr)
library(tidyverse)
library(ggridges)
library(patchwork)

knitr::opts_chunk$set(
	echo = TRUE,
	warning = FALSE,
	fig.width = 8, 
  fig.height = 6,
  out.width = "90%"
)

theme_set(theme_minimal() + theme(legend.position = "bottom"))


cancelation = read_csv("tidied_data/cancel.csv")
covid = read_csv("tidied_data/covid.csv")
delay = read_csv("tidied_data/delay.csv")
weather = read_csv("tidied_data/weather.csv")

```

Count numbers of cancellation by date
```{r}
cancel_date <- cancelation %>% 
  mutate(number = 1)%>% 
  mutate(number = as.numeric(number)) %>% 
  select(-flight_number,-destination_airport,-scheduled_hour,-scheduled_departure_time,-scheduled_elapsed_time_minutes, -airline_name) %>% 
  group_by(date) %>% 
  mutate(cancel_by_date = sum(number)) %>% 
  distinct

```

