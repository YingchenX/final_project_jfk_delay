---
title: "Delay Data Exploration for Continuous Variable"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE,
                      warning = FALSE,
                      message = FALSE)

library(tidyverse)
library(plotly)


raw_df = read_csv("Reg_data_exp/raw_for_exp.csv")
```

<br>

```{r, include = FALSE}

cont_interact = function(cont){
  
  airline = raw_df %>% 
  plot_ly(x = ~cont, y = ~delay, color = ~airline,
          type = 'scatter', mode = 'markers', alpha = .5) %>% 
  layout(
    yaxis = list(title = "Delay Time (Minutes)"))

  month = raw_df %>% 
  plot_ly(x = ~cont, y = ~delay, color = ~month,
          type = 'scatter', mode = 'markers', alpha = .5) %>% 
  layout(
    yaxis = list(title = "Delay Time (Minutes)"))

  hour = raw_df %>% 
  plot_ly(x = ~cont, y = ~delay, color = ~hour_c,
          type = 'scatter', mode = 'markers', alpha = .5) %>% 
  layout(
    yaxis = list(title = "Delay Time (Minutes)"))
  
  htmltools::tagList(list(airline, month, hour))
}
```


## Interaction for continuous variables 

### Types of Delay{.tabset}
#### Carrier Delay
```{r, echo = FALSE}
cont_interact(raw_df$carrierd)
```

#### Extreme Weather Delay
```{r, echo = FALSE}
cont_interact(raw_df$extrmwd)
```

#### Late Arrival Delay 
```{r, echo = FALSE}
cont_interact(raw_df$latarrd)
```

#### NAS Delay
```{r, echo = FALSE}
cont_interact(raw_df$nasd)
```

#### Security Delay
```{r, echo = FALSE}
cont_interact(raw_df$securityd)
```




### Weather Specific{.tabset}
#### Temperature
```{r, echo = FALSE}
cont_interact(raw_df$temperature)
```

#### Humidity
```{r, echo = FALSE}
cont_interact(raw_df$humidity)
```

#### Visibility
```{r, echo = FALSE}
cont_interact(raw_df$visibility)
```

#### Wind Speed
```{r, echo = FALSE}
cont_interact(raw_df$wind_s)
```






