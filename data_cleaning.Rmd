---
title: "data_cleaning"
author: "Yingchen Xu"
date: "2022-11-27"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
library(readxl)
library(stringr)
library(rvest)
library(httr)
```


```{r}
noaa = read.csv("data/3155275.csv")

noaa_df = noaa %>%
  janitor::clean_names() %>% 
  select(date, starts_with("hourly")) %>% 
  mutate(
    date = str_replace_all(date, "T", "-")
  ) %>% 
  separate(date, c("year", "month", "day", "hour", "minute", "second")) %>% 
  filter(minute == "51") 
```

```{r}
covid = 
  GET("https://data.cityofnewyork.us/resource/rc75-m7u3.csv") %>% 
  content("parsed") 

covid_df = covid %>% 
  select(date_of_interest, case_count) %>% 
  filter(date_of_interest < "2022-02-01" & date_of_interest >= "2021-11-01") %>% 
  separate(date_of_interest, c("year", "month", "day"))

```

