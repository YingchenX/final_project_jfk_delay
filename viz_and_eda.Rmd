---
title: "Visualization and EDA"
output: github_document
---

```{r setup, include=FALSE}
library(tidyverse)
library(ggridges)
library(patchwork)

knitr::opts_chunk$set(
	echo = TRUE,
	warning = FALSE,
	fig.width = 8, 
  fig.height = 6,
  out.width = "90%"
)

theme_set(theme_minimal() + theme(legend.position = "bottom"))


cancel = read_csv("tidied_data/cancel.csv")
covid = read_csv("tidied_data/covid.csv")
delay = read_csv("tidied_data/delay.csv")
weather = read_csv("tidied_data/weather.csv")

```


```{r}
delay %>% 
  group_by(date, airline_name) %>% 
  summarize(
    count = n()
  ) %>% 
  ggplot(aes(x = date, y = count, color = airline_name)) +
  geom_line()


delay %>% 
  filter(delay_minutes < 120, airline_name == "JetBlue Airways") %>% 
  ggplot(aes(x = as.factor(month), y = delay_minutes)) +
  geom_boxplot()

delay %>% 
  filter(delay_minutes < 0) %>% 
  ggplot(aes(x = as.factor(month), y = delay_minutes)) +
  geom_boxplot()

```

```{r}
cancel_line = cancel %>% 
  group_by(date, airline_name) %>% 
  summarize(
    count = n()
  ) %>% 
  ggplot(aes(x = date, y = count, color = airline_name)) +
  geom_line()


covid_line = covid %>% 
  ggplot(aes(x = date, y = case_count)) +
  geom_line()

cancel_line + covid_line

```

